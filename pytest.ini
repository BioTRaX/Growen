[pytest]
testpaths = tests
filterwarnings =
    ignore::DeprecationWarning
    # Silenciar warning específico de pkg_resources usado dentro de clamd (3rd party) hasta que se elimine dependencia
    ignore:.*pkg_resources.*:UserWarning:clamd
    # Tratar CryptographyDeprecationWarning (ARC4) como error
    error:.*ARC4 has been moved.*:cryptography.utils.CryptographyDeprecationWarning
markers =
    legacy: Pruebas heredadas previas a SKU canónico estricto (pendientes de refactor o eliminación)
    performance: marks tests as performance tests (deselect with '-m "not performance"')
    slow: marks tests as slow running
    no_auth_override: disable auth override to test real auth behavior
    integration: Pruebas de integración que requieren conexión a internet o servicios externos
    performance: Pruebas de rendimiento (pueden ser lentas o requerir recursos especiales)
    slow: Pruebas marcadas como lentas (ejecutar con --runslow)
